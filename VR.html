<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VR Fun Visual Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- A-Frame & extras -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; font-family: sans-serif; }
        #info-panel {
            position: absolute; top: 20px; left: 20px; z-index: 10;
            background: rgba(0,0,0,0.7); color: #fff; padding: 14px 18px; border-radius: 10px;
            max-width: 320px; font-size: 16px; backdrop-filter: blur(3px);
        }
        #start-ar {
            position: absolute; top: 20px; right: 20px; z-index: 10;
            background: #0077ff; color: #fff; padding: 12px 20px; font-size: 16px; border: none;
            border-radius: 10px; cursor: pointer; transition: background 0.2s;
        }
        #start-ar:hover { background: #0055aa; }
        #loading {
            position: absolute; top: 0; left: 0; width: 100vw; height: 100vh;
            background: #111; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 28px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div id="loading">Loading VR Game...</div>
    <div id="info-panel">
        <b>VR Visual Game</b><br>
        <span>Look around and enjoy this stunning VR world!<br>
        Use the VR or AR button to immerse yourself.<br>
        Move your headâ€”no interactions, just visuals!</span>
    </div>
    <button id="start-ar">AR</button>

    <a-scene
        vr-mode-ui="enabled: true"
        renderer="colorManagement: true"
        loading-screen="enabled: false"
        background="color: #101040"
        embedded
    >
        <!-- Environment preset: visually rich -->
        <a-entity environment="preset: starry; dressingAmount: 60; groundColor: #222244"></a-entity>
        <!-- Animated gradient sky -->
        <a-sky color="#1a1a3d"></a-sky>

        <!-- Visually stunning objects -->
        <a-entity id="visual-objects">
            <!-- Rotating crystal -->
            <a-entity geometry="primitive: octahedron; radius: 1"
                material="color: #00AAFF; metalness: 0.6; roughness: 0.1"
                position="0 3 -6"
                animation="property: rotation; to: 0 360 360; loop: true; dur: 9000">
            </a-entity>
            <!-- Orbiting spheres -->
            <a-entity geometry="primitive: sphere; radius: 0.5"
                material="color: #FF44AA; metalness: 0.6"
                position="2 2 -5"
                animation="property: rotation; to: 360 360 0; loop: true; dur: 6000">
            </a-entity>
            <a-entity geometry="primitive: sphere; radius: 0.5"
                material="color: #44FFAA; metalness: 0.6"
                position="-2 2 -5"
                animation="property: rotation; to: 0 360 360; loop: true; dur: 8000">
            </a-entity>
            <!-- Floating torus -->
            <a-entity geometry="primitive: torus; radius: 1.2; radiusTubular: 0.18"
                material="color: #FFD700; metalness: 0.8"
                position="0 4 -8"
                animation="property: rotation; to: 360 0 360; loop: true; dur: 12000">
            </a-entity>
            <!-- Crystal ring -->
            <a-entity id="crystal-ring">
                <a-entity geometry="primitive: tetrahedron; radius: 0.3"
                    material="color: #AA44FF; metalness: 0.4"
                    position="3 3 -10"
                    animation="property: rotation; to: 360 360 0; loop: true; dur: 10000">
                </a-entity>
                <a-entity geometry="primitive: tetrahedron; radius: 0.3"
                    material="color: #44AAFF; metalness: 0.4"
                    position="-3 3 -10"
                    animation="property: rotation; to: 0 360 360; loop: true; dur: 12000">
                </a-entity>
                <a-entity geometry="primitive: tetrahedron; radius: 0.3"
                    material="color: #FF44AA; metalness: 0.4"
                    position="0 3 -13"
                    animation="property: rotation; to: 360 0 360; loop: true; dur: 14000">
                </a-entity>
            </a-entity>
        </a-entity>

        <!-- Random floating objects -->
        <a-entity id="extra-objects"></a-entity>

        <!-- Particle effects -->
        <a-entity particle-system="preset: snow; color: #88CCFF; particleCount: 800"></a-entity>
        <a-entity particle-system="preset: default; color: #FFFFFF, #FFD700; particleCount: 500" position="0 5 -10"></a-entity>

        <!-- Lights -->
        <a-light type="ambient" color="#6666FF" intensity="0.4"></a-light>
        <a-light type="directional" color="#FFFFFF" intensity="0.8" position="5 10 5"></a-light>
        <a-light type="point" color="#00AAFF" intensity="0.8" position="0 5 -6" distance="12" decay="2"></a-light>
        <a-light type="point" color="#FF44AA" intensity="0.7" position="2 2 -5" distance="7" decay="2"></a-light>
        <a-light type="point" color="#44FFAA" intensity="0.7" position="-2 2 -5" distance="7" decay="2"></a-light>

        <!-- Player entity with hands -->
        <a-entity id="player" movement-controls>
            <a-entity camera look-controls position="0 1.6 0"></a-entity>
            <!-- Left hand -->
            <a-entity hand-controls="hand: left" oculus-touch-controls="hand: left" laser-controls="hand: left">
                <a-sphere color="#FFFFFF" radius="0.06" position="0 0 0"></a-sphere>
            </a-entity>
            <!-- Right hand -->
            <a-entity hand-controls="hand: right" oculus-touch-controls="hand: right" laser-controls="hand: right">
                <a-sphere color="#FFFFFF" radius="0.06" position="0 0 0"></a-sphere>
            </a-entity>
        </a-entity>
    </a-scene>
    <script>
        // Hide loading screen when A-Frame scene loads
        document.querySelector('a-scene').addEventListener('loaded', function() {
            setTimeout(function() {
                document.getElementById('loading').style.display = 'none';
            }, 600);
        });

        // AR button: triggers AR if supported
        document.getElementById('start-ar').onclick = function () {
            var scene = document.querySelector('a-scene');
            if (scene.enterARMode) {
                scene.enterARMode();
            } else if (scene.components['ar-mode-ui'] && scene.components['ar-mode-ui'].enterARMode) {
                scene.components['ar-mode-ui'].enterARMode();
            } else {
                alert('AR not supported in this browser.');
            }
        };

        // Add fun floating objects dynamically
        window.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('extra-objects');
            const shapes = ['box', 'sphere', 'cylinder', 'cone', 'torus'];
            const colors = ['#FF5555', '#55FF55', '#5555FF', '#FFFF55', '#FF55FF', '#55FFFF', '#FFAABB', '#AAFFDD'];

            for (let i = 0; i < 18; i++) {
                const x = (Math.random() - 0.5) * 18;
                const y = Math.random() * 7 + 2;
                const z = (Math.random() - 0.5) * 18 - 6;
                const shapeType = shapes[Math.floor(Math.random() * shapes.length)];
                const color = colors[Math.floor(Math.random() * colors.length)];

                const ent = document.createElement('a-entity');
                ent.setAttribute('geometry', `primitive: ${shapeType}`);
                if (shapeType === 'box') ent.setAttribute('geometry', 'width: 0.6; height: 0.6; depth: 0.6');
                else if (shapeType === 'sphere') ent.setAttribute('geometry', 'radius: 0.34');
                else if (shapeType === 'cylinder') ent.setAttribute('geometry', 'radius: 0.23; height: 0.72');
                else if (shapeType === 'cone') ent.setAttribute('geometry', 'radiusBottom: 0.28; radiusTop: 0; height: 0.7');
                else if (shapeType === 'torus') ent.setAttribute('geometry', 'radius: 0.44; radiusTubular: 0.11');
                ent.setAttribute('material', `color: ${color}; metalness: 0.7; roughness: 0.3; shader: standard`);
                ent.setAttribute('position', `${x} ${y} ${z}`);
                ent.setAttribute('animation', `property: position; to: ${x} ${y + 1} ${z}; dir: alternate; loop: true; dur: ${Math.random() * 4000 + 3000}`);
                ent.setAttribute('animation__rot', `property: rotation; to: ${Math.random() * 360} ${Math.random() * 360} ${Math.random() * 360}; loop: true; dur: ${Math.random() * 9000 + 4000}`);
                container.appendChild(ent);
            }
        });
    </script>
</body>
</html>
